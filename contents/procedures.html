<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TUNIS board tests procedures &mdash; TUNIS Board 0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/css/lense-platforms.css?v=64eb0f87" />
      <link rel="stylesheet" type="text/css" href="../_static/css/links.css?v=7a4609b2" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=2709fde1"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="TUNIS board schematics" href="schematics.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            TUNIS Board
              <img src="../_static/logo-platforms_git.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Board description</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="board_description.html">     Description</a></li>
<li class="toctree-l1"><a class="reference internal" href="schematics.html">     Schematics</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">     Test procedures</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#signal-processing">Signal processing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#binary-file">Binary file</a></li>
<li class="toctree-l3"><a class="reference internal" href="#procedure">Procedure</a></li>
<li class="toctree-l3"><a class="reference internal" href="#code-explanation">Code explanation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#dc-motor-position-control">DC Motor position control</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">Binary file</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">Procedure</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">Code explanation</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">TUNIS Board</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">TUNIS board tests procedures</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/contents/procedures.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="tunis-board-tests-procedures">
<h1>TUNIS board tests procedures<a class="headerlink" href="#tunis-board-tests-procedures" title="Link to this heading"></a></h1>
<section id="signal-processing">
<h2>Signal processing<a class="headerlink" href="#signal-processing" title="Link to this heading"></a></h2>
<p>In this section, the <strong>signal processing</strong> part of the board will be tested.</p>
<figure class="align-center" id="id4">
<a class="reference internal image-reference" href="../_images/TUNIS_board_analog.png"><img alt="TUNIS board - Analog inputs and outputs" src="../_images/TUNIS_board_analog.png" style="width: 90%;" /></a>
<figcaption>
<p><span class="caption-text">TUNIS board - Analog inputs and outputs</span><a class="headerlink" href="#id4" title="Link to this image"></a></p>
</figcaption>
</figure>
<section id="binary-file">
<h3>Binary file<a class="headerlink" href="#binary-file" title="Link to this heading"></a></h3>
</section>
<section id="procedure">
<h3>Procedure<a class="headerlink" href="#procedure" title="Link to this heading"></a></h3>
<p><strong>Step1</strong></p>
<p>Apply a <strong>signal</strong> with a function generator on the <strong>E1</strong> and <strong>E2 analog inputs</strong>, with those parameters :</p>
<ul class="simple">
<li><p>Shape : sine</p></li>
<li><p>Frequency : 100 Hz</p></li>
<li><p>Amplitude : 1 V peak to peak</p></li>
<li><p>Offset : 1.65 V</p></li>
</ul>
<p><strong>Step 2</strong></p>
<p>Connect the <strong>S1</strong> and <strong>S2</strong> analog outputs to an oscilloscope.</p>
<p><strong>Step 3</strong></p>
<p>Upload the binary file to the Nucleo board.</p>
<p>The output signals are the same as the input signals, but with samples of 100 us duration.</p>
</section>
<section id="code-explanation">
<h3>Code explanation<a class="headerlink" href="#code-explanation" title="Link to this heading"></a></h3>
</section>
</section>
<section id="dc-motor-position-control">
<h2>DC Motor position control<a class="headerlink" href="#dc-motor-position-control" title="Link to this heading"></a></h2>
<p>In this section, the <strong>DC motor position control</strong> part of the board will be tested.</p>
<figure class="align-center" id="id5">
<a class="reference internal image-reference" href="../_images/TUNIS_board_DC_motor.png"><img alt="TUNIS board - DC motor connector" src="../_images/TUNIS_board_DC_motor.png" style="width: 90%;" /></a>
<figcaption>
<p><span class="caption-text">TUNIS board - DC motor connector</span><a class="headerlink" href="#id5" title="Link to this image"></a></p>
</figcaption>
</figure>
<section id="id1">
<h3>Binary file<a class="headerlink" href="#id1" title="Link to this heading"></a></h3>
</section>
<section id="id2">
<h3>Procedure<a class="headerlink" href="#id2" title="Link to this heading"></a></h3>
<p>To test the board in this mode, you have to follow the next steps.</p>
<p><strong>Step 1</strong></p>
<p>Connect a DC motor (<strong>Pololu</strong> <em>3239</em> or <em>4843</em>) to the right connector of the board (see previous figure).</p>
<table class="docutils align-default" id="id6">
<caption><span class="caption-text">Pololu DC motor connector - From pololu.com</span><a class="headerlink" href="#id6" title="Link to this table"></a></caption>
<colgroup>
<col style="width: 40.0%" />
<col style="width: 60.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Color</p></th>
<th class="head"><p>Function</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Red</p></td>
<td><p>Motor power (connected to one motor terminal)</p></td>
</tr>
<tr class="row-odd"><td><p>Black</p></td>
<td><p>Motor power (connected to the other motor terminal)</p></td>
</tr>
<tr class="row-even"><td><p>Green</p></td>
<td><p>Encoder GND</p></td>
</tr>
<tr class="row-odd"><td><p>Blue</p></td>
<td><p>Encoder VCC (5V)</p></td>
</tr>
<tr class="row-even"><td><p>Yellow</p></td>
<td><p>Encoder A output</p></td>
</tr>
<tr class="row-odd"><td><p>White</p></td>
<td><p>Encoder B output</p></td>
</tr>
</tbody>
</table>
<p><strong>Step 2</strong></p>
<p>Connect a power supply on the right connector called <strong>VMOT</strong>.</p>
<figure class="align-center" id="id7">
<a class="reference internal image-reference" href="../_images/TUNIS_board_motor_power.png"><img alt="TUNIS board - Power supply of the motor" src="../_images/TUNIS_board_motor_power.png" style="width: 90%;" /></a>
<figcaption>
<p><span class="caption-text">TUNIS board - Power supply of the motor</span><a class="headerlink" href="#id7" title="Link to this image"></a></p>
</figcaption>
</figure>
<p><strong>VMOT</strong> must be a voltage between 6 and 12V (for Pololu motors).</p>
<p><strong>GND</strong> must be connected to the ground of the previous power supply.</p>
<p><strong>Step 3</strong></p>
<p>Apply a <strong>signal</strong> with a function generator on the <strong>E1 analog input</strong>, with those parameters :</p>
<ul class="simple">
<li><p>Shape : square</p></li>
<li><p>Frequency : 0.3 Hz</p></li>
<li><p>Amplitude : 1 V peak to peak</p></li>
<li><p>Offset : 1.65 V</p></li>
<li><p>Symetry : 50 %</p></li>
</ul>
<p><strong>Step 4</strong></p>
<p>Upload the binary file to the Nucleo board.</p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>After the binary file upload, the DC motor starts to rotate at a specific speed if the power supply is switched on.</p>
</div>
<p>At the beginning of the program, an initialization phase makes the motor rotates at a specific speed in one direction during 1 second, then stops the motor during 1 second, then restarts the motor in the opposite direction at a different speed during 1 second and finally stops the motor during 1 seconde.</p>
<p>The next part of the program controls the position of the DC motor depending on the setpoint signal on E1 analog input. The motor turns in one direction until it is stabilized at a specific position, then turns in the other direction.</p>
<p><strong>Step 5 (optionnal)</strong></p>
<p>Connect the S1 (error signal of the controller) and S2 (ouput signal of the controller) outputs to an oscilloscope.</p>
<figure class="align-center" id="id8">
<a class="reference internal image-reference" href="../_images/DC_motor_signals.png"><img alt="TUNIS board - DC motor control in position - signals" src="../_images/DC_motor_signals.png" style="width: 90%;" /></a>
<figcaption>
<p><span class="caption-text">TUNIS board - DC motor control in position - signals</span><a class="headerlink" href="#id8" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="id3">
<h3>Code explanation<a class="headerlink" href="#id3" title="Link to this heading"></a></h3>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="schematics.html" class="btn btn-neutral float-left" title="TUNIS board schematics" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Julien Villemejane.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>